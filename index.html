<!DOCTYPE html>
<html lang="vi">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>D·ª± √Ån Nu√¥i Tri·ªÅu - Phi√™n B·∫£n Gi√°ng Sinh</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css" rel="stylesheet">
    <link href="https://fonts.googleapis.com/css2?family=Patrick+Hand&family=Nunito:wght@400;700&display=swap"
        rel="stylesheet">
    <script>
        tailwind.config = {
            theme: {
                extend: {
                    colors: {
                        'brand-red': '#D42426',     /* M√†u ƒë·ªè Noel */
                        'brand-green': '#165B33',   /* M√†u xanh th√¥ng */
                        'brand-gold': '#F8B229',    /* M√†u v√†ng chu√¥ng */
                        'brand-cream': '#F3F4F6',
                        'brand-orange': '#FF6B6B',  /* Gi·ªØ m√†u c≈© l√†m accent */
                    },
                    fontFamily: {
                        'hand': ['"Patrick Hand"', 'cursive'],
                        'sans': ['"Nunito"', 'sans-serif'],
                    }
                }
            }
        }
    </script>
    <style>
        body {
            font-family: 'Nunito', sans-serif;
            overflow-x: hidden;
        }

        .scroll-smooth {
            scroll-behavior: smooth;
        }

        /* --- HI·ªÜU ·ª®NG TUY·∫æT R∆†I --- */
        .snowflake {
            position: fixed;
            top: -10px;
            z-index: 9999;
            user-select: none;
            cursor: default;
            animation-name: snowfall;
            animation-timing-function: linear;
            animation-iteration-count: infinite;
            pointer-events: none;
        }

        @keyframes snowfall {
            0% {
                transform: translateY(0);
            }

            100% {
                transform: translateY(100vh);
            }
        }

        /* --- D√ÇY ƒê√àN TRANG TR√ç --- */
        .light-rope {
            text-align: center;
            white-space: nowrap;
            overflow: hidden;
            position: absolute;
            z-index: 40;
            /* D∆∞·ªõi Navbar, tr√™n n·ªÅn */
            margin: -15px 0 0 0;
            padding: 0;
            pointer-events: none;
            width: 100%;
            top: 60px;
            /* ƒêi·ªÅu ch·ªânh v·ªã tr√≠ d∆∞·ªõi navbar */
        }

        .light-rope li {
            position: relative;
            animation-fill-mode: both;
            animation-iteration-count: infinite;
            list-style: none;
            margin: 0;
            padding: 0;
            display: block;
            width: 12px;
            height: 28px;
            border-radius: 50%;
            margin: 20px;
            display: inline-block;
            background: #fff;
            box-shadow: 0px 4.66667px 24px 3px #fff;
            animation-name: flash-1;
            animation-duration: 2s;
        }

        .light-rope li:nth-child(2n+1) {
            background: #00ff00;
            box-shadow: 0px 4.66667px 24px 3px rgba(0, 255, 0, 0.5);
            animation-name: flash-2;
            animation-duration: 0.4s;
        }

        .light-rope li:nth-child(4n+2) {
            background: #ff0000;
            box-shadow: 0px 4.66667px 24px 3px rgba(255, 0, 0, 0.5);
            animation-name: flash-3;
            animation-duration: 1.1s;
        }

        @keyframes flash-1 {

            0%,
            100% {
                background: #ffeb3b;
                box-shadow: 0px 4.66667px 24px 3px #ffeb3b;
            }

            50% {
                background: rgba(255, 235, 59, 0.4);
                box-shadow: 0px 4.66667px 24px 3px rgba(255, 235, 59, 0.2);
            }
        }

        @keyframes flash-2 {

            0%,
            100% {
                background: #00ff00;
                box-shadow: 0px 4.66667px 24px 3px #00ff00;
            }

            50% {
                background: rgba(0, 255, 0, 0.4);
                box-shadow: 0px 4.66667px 24px 3px rgba(0, 255, 0, 0.2);
            }
        }

        @keyframes flash-3 {

            0%,
            100% {
                background: #f00;
                box-shadow: 0px 4.66667px 24px 3px #f00;
            }

            50% {
                background: rgba(255, 0, 0, 0.4);
                box-shadow: 0px 4.66667px 24px 3px rgba(255, 0, 0, 0.2);
            }
        }

        /* Animation kh√°c */
        @keyframes wiggle {

            0%,
            100% {
                transform: rotate(-3deg);
            }

            50% {
                transform: rotate(3deg);
            }
        }

        .wiggle-hover:hover {
            animation: wiggle 0.5s ease-in-out infinite;
        }

        @keyframes popIn {
            0% {
                transform: scale(0.8);
                opacity: 0;
            }

            100% {
                transform: scale(1);
                opacity: 1;
            }
        }

        .animate-pop {
            animation: popIn 0.5s cubic-bezier(0.175, 0.885, 0.32, 1.275) forwards;
        }

        .santa-hat {
            position: absolute;
            top: -15px;
            left: -15px;
            transform: rotate(-15deg);
            filter: drop-shadow(2px 4px 6px rgba(0, 0, 0, 0.3));
            z-index: 10;
        }

        /* --- M·ªöI: HI·ªÜU ·ª®NG THANH TR·∫†NG TH√ÅI CANDY CANE --- */
        @keyframes slideStripe {
            0% {
                background-position: 0 0;
            }

            100% {
                background-position: 30px 0;
            }
        }

        .candy-cane-bar {
            /* Hi·ªáu ·ª©ng s·ªçc ch√©o gi·ªëng k·∫πo g·∫≠y */
            background-image: repeating-linear-gradient(45deg,
                    rgba(255, 255, 255, 0.3),
                    rgba(255, 255, 255, 0.3) 10px,
                    transparent 10px,
                    transparent 20px);
            background-size: 30px 30px;
            animation: slideStripe 1s linear infinite;
        }
    </style>
</head>

<body class="bg-brand-cream text-gray-800 scroll-smooth relative">

    <!-- Container Tuy·∫øt R∆°i (ƒê√£ th√™m l·∫°i ƒë·ªÉ fix l·ªói) -->
    <div id="snow-container"></div>

    <!-- Navbar -->
    <nav class="fixed w-full z-50 bg-white/95 backdrop-blur-md shadow-sm border-b border-gray-100">
        <div class="container mx-auto px-4 py-3 flex justify-between items-center relative">
            <a href="#" class="text-2xl font-bold text-brand-red flex items-center gap-2 relative group">
                <span class="text-3xl">üéÖ</span>
                <span class="group-hover:text-brand-green transition-colors">Nu√¥i Tri·ªÅu</span>
            </a>
            <div class="hidden md:flex space-x-6 font-bold text-gray-600">
                <a href="#ve-du-an" class="hover:text-brand-red transition">V·ªÅ D·ª± √Ån</a>
                <a href="#goi-tai-tro" class="hover:text-brand-red transition">G√≥i Qu√†</a>
                <a href="#minh-bach" class="hover:text-brand-red transition">Sao K√™</a>
                <a href="#loi-chung" class="hover:text-brand-red transition">L·ªùi Ch·ª©ng</a>
            </div>
            <button onclick="openCustomInput()"
                class="bg-brand-red text-white px-5 py-2 rounded-full font-bold shadow-lg hover:bg-brand-green transition wiggle-hover border-2 border-white ring-2 ring-brand-red ring-opacity-20">
                <i class="fas fa-gift mr-1"></i> L√¨ X√¨ Noel
            </button>
        </div>
        <!-- D√¢y ƒë√®n treo ngay d∆∞·ªõi navbar -->
        <ul class="light-rope hidden md:block">
            <li></li>
            <li></li>
            <li></li>
            <li></li>
            <li></li>
            <li></li>
            <li></li>
            <li></li>
            <li></li>
            <li></li>
            <li></li>
            <li></li>
            <li></li>
            <li></li>
            <li></li>
            <li></li>
            <li></li>
            <li></li>
            <li></li>
            <li></li>
            <li></li>
            <li></li>
            <li></li>
            <li></li>
        </ul>
    </nav>

    <!-- Hero Section -->
    <section
        class="pt-40 pb-20 px-4 text-center bg-gradient-to-b from-white via-red-50 to-white relative overflow-hidden">
        <!-- Decor blobs -->
        <div class="absolute top-20 left-10 text-6xl opacity-20 rotate-12 animate-pulse">üéÑ</div>
        <div class="absolute bottom-10 right-10 text-8xl opacity-20 -rotate-12 animate-bounce">üéÅ</div>

        <div class="container mx-auto max-w-4xl relative z-10">
            <span
                class="bg-brand-green text-white text-xs font-bold px-3 py-1 rounded-full uppercase tracking-wide mb-4 inline-block shadow-md">
                üéÑ Chi·∫øn d·ªãch: C·ª©u ƒë√≥i m√πa Gi√°ng Sinh
            </span>
            <div class="relative inline-block">
                <h1 class="text-5xl md:text-7xl font-extrabold text-gray-900 mb-6 leading-tight">
                    H√£y trao cho Tri·ªÅu <br>
                    <span class="text-brand-red font-hand">M·ªôt c·ªëc cacao n√≥ng</span>
                </h1>
                <!-- Santa Hat Decor -->
                <img src="https://api.iconify.design/noto:christmas-tree.svg"
                    class="absolute -top-10 -right-10 w-20 h-20 opacity-80 hidden md:block" alt="Tree">
            </div>

            <p class="text-xl text-gray-600 mb-8 max-w-2xl mx-auto">
                Noel n√†y Tri·ªÅu v·∫´n c√¥ ƒë∆°n, nh∆∞ng Tri·ªÅu kh√¥ng mu·ªën b·ªã ƒë√≥i. H√£y gi√∫p Tri·ªÅu c√≥ s·ª©c l·ª±c ƒë·ªÉ ch·∫°y deadline
                xuy√™n ƒë√™m Gi√°ng Sinh.
            </p>

            <!-- Real-time Status (ƒê√£ N√¢ng C·∫•p) -->
            <div
                class="bg-white p-6 rounded-2xl shadow-xl max-w-lg mx-auto mb-10 border-4 border-brand-red/20 relative group hover:border-brand-red transition duration-500">
                <!-- N∆° trang tr√≠ -->
                <div class="absolute -top-4 -left-4 text-4xl transform -rotate-45 z-10 filter drop-shadow-md">üéÄ</div>

                <!-- Header: Ti√™u ƒë·ªÅ + % -->
                <div class="flex justify-between items-end mb-3">
                    <span class="font-bold text-gray-700 flex items-center gap-2">
                        <i class="fas fa-heartbeat text-brand-red animate-pulse text-xl"></i>
                        Ch·ªâ s·ªë sinh t·ªìn:
                    </span>
                    <span class="font-extrabold text-2xl transition-all duration-500 text-brand-red"
                        id="status-percent">15%</span>
                </div>

                <!-- Thanh nƒÉng l∆∞·ª£ng -->
                <div
                    class="w-full h-8 bg-gray-200 rounded-full overflow-visible border border-gray-300 relative shadow-inner">
                    <!-- The Bar -->
                    <div id="energy-bar"
                        class="h-full bg-brand-red rounded-full flex items-center justify-end pr-0 transition-all duration-1000 relative candy-cane-bar"
                        style="width: 15%">

                        <!-- Icon cu·ªôn tr√™n ƒë·∫ßu thanh (position absolute ƒë·ªÉ n√≥ n·∫±m ƒë√® l√™n m√©p ph·∫£i) -->
                        <div
                            class="absolute -right-4 -top-2 bg-white rounded-full w-8 h-8 flex items-center justify-center text-sm shadow-md border-2 border-brand-red z-10 animate-bounce">
                            <i class="fas fa-sleigh" id="bar-icon"></i> <!-- Icon xe tr∆∞·ª£t tuy·∫øt -->
                        </div>
                    </div>
                </div>

                <!-- D√≤ng c·∫≠p nh·∫≠t t√¢m tr·∫°ng -->
                <div class="mt-4 text-center h-8 overflow-hidden relative border-t border-dashed border-gray-200 pt-3">
                    <p id="dynamic-status"
                        class="text-sm font-bold text-gray-500 italic transition-all duration-500 transform translate-y-0 flex items-center justify-center gap-2">
                        <i class="fas fa-spinner fa-spin text-xs"></i> "ƒêang ƒëo ƒë·ªô ƒë√≥i..."
                    </p>
                </div>

                <!-- Time counter nh·ªè x√≠u -->
                <div class="absolute bottom-1 right-3 text-[10px] text-gray-400 font-mono">
                    C·∫≠p nh·∫≠t sau: <span id="next-update" class="font-bold text-brand-red">30</span>s
                </div>
            </div>

            <div class="flex flex-col md:flex-row gap-4 justify-center">
                <button onclick="openCustomInput()"
                    class="bg-brand-green text-white px-8 py-4 rounded-xl font-bold text-lg shadow-lg shadow-green-900/20 hover:-translate-y-1 transition hover:bg-green-700">
                    <i class="fas fa-snowflake mr-2"></i> S∆∞·ªüi ·∫•m tim Tri·ªÅu
                </button>
                <a href="#ve-du-an"
                    class="bg-white text-gray-700 border-2 border-gray-200 px-8 py-4 rounded-xl font-bold text-lg hover:border-brand-red hover:text-brand-red transition">
                    T·∫°i sao l·∫°i th·∫ø?
                </a>
            </div>
        </div>
    </section>

    <!-- Open Letter -->
    <section id="ve-du-an" class="py-16 bg-white relative scroll-mt-28">
        <div class="container mx-auto px-4">
            <!-- Khung th∆∞ ƒë∆∞·ª£c l√†m n·ªïi b·∫≠t h∆°n v·ªõi vi·ªÅn ƒë·ªè ƒë·∫≠m v√† hi·ªáu ·ª©ng nghi√™ng nh·∫π -->
            <div
                class="max-w-4xl mx-auto bg-white rounded-3xl shadow-2xl border-4 border-brand-red p-8 md:p-12 relative overflow-hidden transform -rotate-1 hover:rotate-0 transition duration-500">

                <!-- Decor n·ªÅn -->
                <div class="absolute top-0 right-0 w-40 h-40 bg-red-100 rounded-full blur-3xl -mr-16 -mt-16 opacity-50">
                </div>
                <div
                    class="absolute bottom-0 left-0 w-32 h-32 bg-yellow-100 rounded-full blur-3xl -ml-10 -mb-10 opacity-50">
                </div>

                <!-- Ti√™u ƒë·ªÅ b·ª± -->
                <h2
                    class="text-4xl md:text-5xl font-extrabold mb-10 flex items-center justify-center gap-3 text-brand-red uppercase tracking-tighter text-center">
                    <i class="fas fa-bullhorn animate-bounce"></i> T√ÇM TH∆Ø K√äU G·ªåI
                </h2>

                <!-- N·ªôi dung th∆∞ - Font ch·ªØ vi·∫øt tay, size l·ªõn -->
                <div class="space-y-6 text-xl md:text-2xl text-gray-700 leading-relaxed font-hand">
                    <p class="font-bold text-3xl text-gray-900 mb-6">
                        Th∆∞a c√°c m·∫°nh th∆∞·ªùng qu√¢n, c√°c nh√† h·∫£o t√¢m v√† to√†n th·ªÉ c·ªông ƒë·ªìng m·∫°ng, üì£
                    </p>

                    <p>
                        B·∫Øt ƒë·∫ßu t·ª´ ng√†y h√¥m nay, t√¥i xin ph√©p long tr·ªçng ra m·∫Øt d·ª± √°n <span
                            class="bg-brand-red text-white px-2 py-1 rounded transform rotate-2 inline-block font-bold">"Nu√¥i
                            T√¥i"</span> (phi√™n b·∫£n gi·ªõi h·∫°n c·ªßa Tri·ªÅu).
                    </p>

                    <p>
                        Gi·ªØa b√£o gi√° th·ªã tr∆∞·ªùng, gi√° xƒÉng tƒÉng, gi√° v√†ng nh·∫£y m√∫a, ch·ªâ c√≥ l∆∞∆°ng t√¢m c·ªßa Tri·ªÅu l√† v·∫´n
                        trong s√°ng (v√† v√≠ th√¨ tr·ªëng r·ªóng). üí∏
                    </p>

                    <!-- Quote n·ªïi b·∫≠t -->
                    <div
                        class="bg-yellow-50 border-l-8 border-brand-gold p-6 md:p-8 rounded-r-xl my-8 relative shadow-sm">
                        <i class="fas fa-quote-left text-4xl text-brand-gold/30 absolute top-4 left-4"></i>
                        <p class="italic font-bold text-gray-800 relative z-10 pl-4">
                            "M·ªói th√°ng, b·∫°n ch·ªâ c·∫ßn ƒë√≥ng g√≥p 50.000ƒë th√¥i (ho·∫∑c 500k n·∫øu b·∫°n gi√†u), t√¥i cam k·∫øt s·∫Ω s·ª≠
                            d·ª•ng s·ªë ti·ªÅn ƒë√≥ m·ªôt c√°ch <span
                                class="underline decoration-wavy decoration-red-500 text-brand-red">minh b·∫°ch</span>:
                            <br><br>
                            üçï <span class="text-brand-red">90%</span> ƒë·ªÉ order ƒë·ªì ƒÉn. <br>
                            ü§î <span class="text-brand-red">10%</span> c√≤n l·∫°i ƒë·ªÉ suy nghƒ© xem b·ªØa sau ƒÉn g√¨."
                        </p>
                    </div>

                    <p>
                        T√¥i h·ª©a s·∫Ω update story ƒë·∫ßy ƒë·ªß m·ªói khi ƒë∆∞·ª£c ƒÉn ngon ƒë·ªÉ c√°c b·∫°n th·∫•y ti·ªÅn c·ªßa m√¨nh ƒë√£ gi√∫p Tri·ªÅu
                        b√©o t·ªët l√™n nh∆∞ th·∫ø n√†o. Xin ch√¢n th√†nh c·∫£m ∆°n! üôè
                    </p>

                    <!-- Ch·ªØ k√Ω -->
                    <div
                        class="pt-8 flex flex-col md:flex-row items-center justify-end gap-4 mt-4 border-t-2 border-dashed border-gray-200">
                        <span class="text-gray-400 text-base font-sans italic">(K√Ω t√™n ƒë√≥ng d·∫•u b·∫±ng m·ªì h√¥i v√† n∆∞·ªõc
                            m·∫Øt)</span>
                        <div
                            class="font-hand text-4xl text-brand-red font-bold -rotate-6 border-4 border-double border-brand-red p-4 rounded-lg inline-block transform hover:scale-110 transition bg-white shadow-lg">
                            Tri·ªÅu (ƒê√£ ƒê√≥i) üçñ
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </section>

    <!-- Pricing / Donation Tiers -->
    <section id="goi-tai-tro" class="py-20 bg-gray-900 text-white relative overflow-hidden">
        <!-- Tuy·∫øt n·ªÅn t·ªëi -->
        <div class="absolute inset-0 opacity-10"
            style="background-image: url('data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSI4IiBoZWlnaHQ9IjgiPgo8cmVjdCB3aWR0aD0iOCIgaGVpZ2h0PSI4IiBmaWxsPSIjZmZmIiBmaWxsLW9wYWNpdHk9IjAuMSIvPgo8L3N2Zz4=');">
        </div>

        <div class="container mx-auto px-4 relative z-10">
            <div class="text-center mb-16">
                <h2 class="text-3xl md:text-4xl font-bold mb-4 text-brand-gold">üéÅ C√°c G√≥i Qu√† Gi√°ng Sinh</h2>
                <p class="text-gray-400">Ch·ªçn h·ªôp qu√† b·∫°n mu·ªën g·ª≠i t·∫∑ng</p>
            </div>

            <div class="grid md:grid-cols-4 gap-6 mb-8">
                <!-- Tier 1 -->
                <div
                    class="border border-gray-700 bg-gray-800/80 backdrop-blur rounded-2xl p-6 hover:border-brand-green transition relative flex flex-col group">
                    <div class="absolute -top-3 -right-3 text-2xl group-hover:scale-125 transition">üç¨</div>
                    <h3 class="text-xl font-bold text-gray-300">G√≥i K·∫πo G·∫≠y</h3>
                    <div class="text-3xl font-bold my-4 text-white">20.000ƒë</div>
                    <p class="text-sm text-gray-400 mb-6 flex-grow">ƒê·ªß mua m·ªôt chi·∫øc b√°nh g·ª´ng ho·∫∑c ly c√† ph√™ gi·ªØ t·ªânh
                        t√°o.</p>
                    <button onclick="startDonation('20k')"
                        class="w-full py-2 rounded-lg border border-gray-500 hover:bg-gray-700 transition">T·∫∑ng
                        K·∫πo</button>
                </div>

                <!-- Tier 2 (Featured) -->
                <div
                    class="border-2 border-brand-red bg-gray-800/90 backdrop-blur rounded-2xl p-6 transform md:-translate-y-4 shadow-2xl shadow-red-900/50 relative flex flex-col">
                    <div
                        class="absolute top-0 right-0 bg-brand-red text-white text-xs font-bold px-3 py-1 rounded-bl-lg rounded-tr-lg">
                        Ph·ªï bi·∫øn nh·∫•t</div>
                    <div class="absolute -top-6 left-1/2 transform -translate-x-1/2 text-4xl">üéÖ</div>

                    <h3 class="text-xl font-bold text-brand-red mt-2">G√≥i No ·∫§m</h3>
                    <div class="text-3xl font-bold my-4 text-white">60.000ƒë</div>
                    <p class="text-sm text-gray-300 mb-6 flex-grow">M·ªôt b√°t ph·ªü n√≥ng h·ªïi ho·∫∑c combo g√† r√°n Gi√°ng Sinh.
                    </p>
                    <ul class="text-sm space-y-2 mb-6 text-gray-300">
                        <li><i class="fas fa-check text-brand-green mr-2"></i> Tri·ªÅu ·∫•m b·ª•ng</li>
                        <li><i class="fas fa-check text-brand-green mr-2"></i> Ch√∫c Gi√°ng sinh tr√™n Story</li>
                    </ul>
                    <button onclick="startDonation('60k')"
                        class="w-full py-2 rounded-lg bg-brand-red hover:bg-red-700 transition font-bold text-white shadow-lg">T·∫∑ng
                        Ngay</button>
                </div>

                <!-- Tier 3 -->
                <div
                    class="border border-gray-700 bg-gray-800/80 backdrop-blur rounded-2xl p-6 hover:border-brand-gold transition flex flex-col group">
                    <div class="absolute -top-3 -right-3 text-2xl group-hover:scale-125 transition">‚õÑ</div>
                    <h3 class="text-xl font-bold text-brand-gold">G√≥i Ng∆∞·ªùi Tuy·∫øt</h3>
                    <div class="text-3xl font-bold my-4 text-white">200.000ƒë</div>
                    <p class="text-sm text-gray-400 mb-6 flex-grow">M·ªôt b·ªØa l·∫©u c√¥ ƒë∆°n nh∆∞ng chanh x·∫£.</p>
                    <button onclick="startDonation('200k')"
                        class="w-full py-2 rounded-lg border border-gray-500 hover:bg-gray-700 transition">T·∫∑ng
                        L·∫©u</button>
                </div>

                <!-- Tier 4 -->
                <div
                    class="border border-brand-green bg-gray-800/80 backdrop-blur rounded-2xl p-6 hover:bg-green-900/20 transition flex flex-col">
                    <div class="absolute -top-3 -right-3 text-2xl group-hover:scale-125 transition">ü¶å</div>
                    <h3 class="text-xl font-bold text-brand-green">G√≥i Tu·∫ßn L·ªôc +++</h3>
                    <div class="text-3xl font-bold my-4 text-white">500k++</div>
                    <p class="text-sm text-gray-400 mb-6 flex-grow">ƒê√πuuuuu vu√Ωpppppppp b·∫°n c√≥ th·ªÉ khi·∫øn Tri·ªÅu m·ªçc s·ª´ng
                        ngay
                        m√† kh√¥ng c·∫ßn y√™u</p>
                    <button onclick="startDonation('500k')"
                        class="w-full py-2 rounded-lg bg-brand-green text-white font-bold hover:bg-red-700 transition">Tr·ªü
                        th√†nh Satan</button>
                </div>
            </div>

            <!-- Custom Amount -->
            <div class="max-w-xl mx-auto bg-gray-800 rounded-2xl p-1 border border-gray-700 shadow-lg">
                <div class="bg-gray-900 rounded-xl p-6 text-center">
                    <h3 class="text-xl font-bold text-gray-300 mb-2">üéÅ H·ªôp Qu√† B√≠ M·∫≠t</h3>
                    <div class="flex gap-2 mt-4">
                        <input type="text" onclick="openCustomInput()" readonly placeholder="Nh·∫≠p s·ªë ti·ªÅn..."
                            class="w-full bg-gray-800 border border-gray-600 rounded-lg px-4 py-3 text-white focus:outline-none cursor-pointer hover:bg-gray-700 transition">
                        <button onclick="openCustomInput()"
                            class="bg-brand-gold text-gray-900 px-6 py-3 rounded-lg font-bold hover:bg-yellow-400 transition whitespace-nowrap">
                            G·ª≠i
                        </button>
                    </div>
                </div>
            </div>
        </div>
    </section>

    <!-- Transparency Report -->
    <section id="minh-bach" class="py-20 bg-white">
        <div class="container mx-auto px-4 text-center">
            <h2 class="text-3xl md:text-4xl font-bold mb-10 text-brand-red">B√°o c√°o t√†i ch√≠nh minh b·∫°ch</h2>

            <div class="flex flex-col md:flex-row items-center justify-center gap-10">
                <!-- Chart Container -->
                <div
                    class="bg-white p-8 rounded-3xl shadow-xl border border-gray-100 w-full max-w-2xl flex flex-col md:flex-row items-center gap-8 relative overflow-hidden">
                    <!-- Background decor dots -->
                    <div class="absolute top-0 left-0 w-full h-full opacity-10"
                        style="background-image: radial-gradient(#ccc 1px, transparent 1px); background-size: 20px 20px;">
                    </div>

                    <!-- Bi·ªÉu ƒë·ªì -->
                    <div class="relative w-48 h-48 flex-shrink-0 z-10">
                        <!-- V√≤ng tr√≤n bi·ªÉu ƒë·ªì: H·ªìng (70%), Cam (20%), T√≠m (10%) -->
                        <div class="w-full h-full rounded-full shadow-lg"
                            style="background: conic-gradient(#F43F5E 0% 70%, #F97316 70% 90%, #A855F7 90% 100%);">
                        </div>
                        <!-- L·ªó tr√≤n ·ªü gi·ªØa t·∫°o hi·ªáu ·ª©ng Doughnut -->
                        <div
                            class="absolute top-1/2 left-1/2 transform -translate-x-1/2 -translate-y-1/2 w-28 h-28 bg-white rounded-full flex items-center justify-center text-center shadow-inner z-20">
                            <span class="text-gray-500 font-bold text-sm leading-tight">T·ªïng chi<br>th√°ng n√†y</span>
                        </div>
                    </div>

                    <!-- Ch√∫ th√≠ch (Legend) -->
                    <div class="flex-grow text-left w-full z-10">
                        <div class="space-y-4">
                            <!-- Item 1 -->
                            <div class="flex items-center justify-between border-b border-gray-50 pb-2">
                                <div class="flex items-center gap-3">
                                    <span class="w-4 h-4 rounded-full bg-[#F43F5E] shadow-sm"></span>
                                    <!-- M√†u h·ªìng ƒë·∫≠m -->
                                    <span class="font-bold text-gray-700">ƒÇn u·ªëng & Tr√† s·ªØa</span>
                                </div>
                                <span class="font-bold text-gray-900">70%</span>
                            </div>

                            <!-- Item 2 -->
                            <div class="flex items-center justify-between border-b border-gray-50 pb-2">
                                <div class="flex items-center gap-3">
                                    <span class="w-4 h-4 rounded-full bg-[#F97316] shadow-sm"></span> <!-- M√†u cam -->
                                    <span class="font-bold text-gray-700">Tr·∫£ n·ª£ b·∫°n b√®</span>
                                </div>
                                <span class="font-bold text-gray-900">20%</span>
                            </div>

                            <!-- Item 3 -->
                            <div class="flex items-center justify-between border-b border-gray-50 pb-2">
                                <div class="flex items-center gap-3">
                                    <span class="w-4 h-4 rounded-full bg-[#A855F7] shadow-sm"></span> <!-- M√†u t√≠m -->
                                    <span class="font-bold text-gray-700">ƒê·∫ßu t∆∞ t∆∞∆°ng lai (Vietlott)</span>
                                </div>
                                <span class="font-bold text-gray-900">10%</span>
                            </div>
                        </div>

                        <!-- Ghi ch√∫ footer -->
                        <div class="mt-6 pt-2 text-gray-400 text-sm italic text-center md:text-left">
                            *S·ªë li·ªáu ƒë∆∞·ª£c ki·ªÉm to√°n b·ªüi....... ch√≠nh t√¥i.
                        </div>
                    </div>

                </div>
            </div>
        </div>
    </section>

    <!-- NEW SECTION: L·ªùi Ch·ª©ng (Testimonials) -->
    <section id="loi-chung" class="py-20 bg-gray-50 relative overflow-hidden">
        <div class="container mx-auto px-4">
            <div class="text-center mb-16">
                <span class="text-brand-green font-bold tracking-wider uppercase text-sm">Review C·ª±c Ch√¢n Th·ª±c</span>
                <h2 class="text-3xl md:text-4xl font-bold mt-2 text-gray-800">C·ªông ƒê·ªìng N√≥i G√¨ V·ªÅ Tri·ªÅu?</h2>
                <div class="w-20 h-1 bg-brand-red mx-auto mt-4 rounded-full"></div>
            </div>

            <div class="grid md:grid-cols-3 gap-8 max-w-6xl mx-auto">
                <!-- Review 1 -->
                <div
                    class="bg-white p-8 rounded-2xl shadow-lg border-t-4 border-brand-green relative hover:-translate-y-2 transition duration-300">
                    <div
                        class="absolute -top-6 left-8 w-12 h-12 bg-brand-green rounded-full flex items-center justify-center text-white text-2xl border-4 border-white shadow-sm">
                        <i class="fas fa-bug"></i>
                    </div>
                    <p class="text-gray-600 italic mb-6 pt-4">"Tri·ªÅu l√† m·ªôt l·∫≠p tr√¨nh vi√™n r·∫•t ki√™n tr√¨. Anh ·∫•y c√≥ th·ªÉ
                        ng·ªìi c·∫£ ng√†y ch·ªâ ƒë·ªÉ fix m·ªôt c√°i bug do ch√≠nh anh ·∫•y t·∫°o ra h√¥m qua. R·∫•t ƒë√°ng ƒë∆∞·ª£c nu√¥i d∆∞·ª°ng ƒë·ªÉ
                        b·∫£o t·ªìn."</p>
                    <div class="flex items-center gap-3">
                        <div class="w-10 h-10 bg-gray-200 rounded-full overflow-hidden">
                            <img src="https://api.iconify.design/noto:lady-beetle.svg" alt="Bug"
                                class="w-full h-full object-cover">
                        </div>
                        <div>
                            <h4 class="font-bold text-gray-900 text-sm">Con Bug C·ª©ng ƒê·∫ßu</h4>
                            <p class="text-xs text-gray-400">B·∫°n tri k·ª∑</p>
                        </div>
                    </div>
                </div>

                <!-- Review 2 -->
                <div
                    class="bg-white p-8 rounded-2xl shadow-lg border-t-4 border-brand-red relative hover:-translate-y-2 transition duration-300">
                    <div
                        class="absolute -top-6 left-8 w-12 h-12 bg-brand-red rounded-full flex items-center justify-center text-white text-2xl border-4 border-white shadow-sm">
                        <i class="fas fa-cat"></i>
                    </div>
                    <p class="text-gray-600 italic mb-6 pt-4">"Meo meo meo meo. (D·ªãch: Th·∫±ng Sen n√†y ngh√®o l·∫Øm, pate c·ªßa
                        t√¥i n√≥ c√≤n ch·∫•m m√∫t. C√°c b·∫°n donate cho n√≥ ƒëi ƒë·ªÉ t√¥i c√≤n ƒë∆∞·ª£c ƒÉn ngon.)"</p>
                    <div class="flex items-center gap-3">
                        <div class="w-10 h-10 bg-gray-200 rounded-full overflow-hidden">
                            <img src="https://api.iconify.design/noto:cat-face.svg" alt="Cat"
                                class="w-full h-full object-cover">
                        </div>
                        <div>
                            <h4 class="font-bold text-gray-900 text-sm">Ho√†ng Th∆∞·ª£ng M√®o</h4>
                            <p class="text-xs text-gray-400">Ch·ªß nh√† th·ª±c s·ª±</p>
                        </div>
                    </div>
                </div>

                <!-- Review 3 -->
                <div
                    class="bg-white p-8 rounded-2xl shadow-lg border-t-4 border-brand-gold relative hover:-translate-y-2 transition duration-300">
                    <div
                        class="absolute -top-6 left-8 w-12 h-12 bg-brand-gold rounded-full flex items-center justify-center text-white text-2xl border-4 border-white shadow-sm">
                        <i class="fas fa-laptop-code"></i>
                    </div>
                    <p class="text-gray-600 italic mb-6 pt-4">"T√¥i ch·∫°y Chrome 50 tabs m√† Tri·ªÅu kh√¥ng cho th√™m RAM. T√¥i
                        n√≥ng 90 ƒë·ªô m√† Tri·ªÅu kh√¥ng b·∫≠t ƒëi·ªÅu h√≤a. Gi·∫£i c·ª©u t√¥i v·ªõi!"</p>
                    <div class="flex items-center gap-3">
                        <div class="w-10 h-10 bg-gray-200 rounded-full overflow-hidden">
                            <img src="https://api.iconify.design/noto:laptop.svg" alt="Laptop"
                                class="w-full h-full object-cover">
                        </div>
                        <div>
                            <h4 class="font-bold text-gray-900 text-sm">Chi·∫øc Laptop C≈©</h4>
                            <p class="text-xs text-gray-400">C√¥ng c·ª• ki·∫øm c∆°m</p>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </section>

    <!-- B·∫£ng V√†ng Ghi Danh -->
    <section id="bang-vang" class="py-20 bg-brand-cream relative overflow-hidden">
        <!-- Decor n·ªÅn -->
        <div class="absolute -left-10 top-20 text-9xl opacity-5 rotate-45">üîî</div>

        <div class="container mx-auto px-4 relative z-10">
            <h2
                class="text-3xl md:text-4xl font-bold mb-12 text-center text-brand-red font-hand flex justify-center items-center gap-3">
                <i class="fas fa-trophy text-brand-gold"></i> B·∫£ng V√†ng Ghi Danh
            </h2>

            <div class="grid md:grid-cols-2 lg:grid-cols-4 gap-6">
                <!-- Item 1: NYC -->
                <div
                    class="bg-white p-6 rounded-2xl shadow-md border-b-4 border-gray-300 hover:border-brand-red transition transform hover:-translate-y-2 group">
                    <div class="text-4xl mb-4 group-hover:scale-110 transition inline-block">üíî</div>
                    <h3 class="font-bold text-lg text-gray-800">Ng∆∞·ªùi Y√™u C≈©</h3>
                    <div class="text-brand-green font-bold text-xl my-2">+5.000ƒë</div>
                    <p class="text-gray-500 italic text-sm bg-gray-50 p-3 rounded-lg">
                        "Chia tay r·ªìi nh∆∞ng th·∫•y t·ªôi n√™n cho 5k."
                    </p>
                </div>

                <!-- Item 2: Mom -->
                <div
                    class="bg-white p-6 rounded-2xl shadow-md border-b-4 border-gray-300 hover:border-brand-red transition transform hover:-translate-y-2 group">
                    <div class="text-4xl mb-4 group-hover:scale-110 transition inline-block">üë©</div>
                    <h3 class="font-bold text-lg text-gray-800">M·∫π (ƒë√£ ch·∫∑n)</h3>
                    <div class="text-brand-green font-bold text-xl my-2">+500.000ƒë</div>
                    <p class="text-gray-500 italic text-sm bg-gray-50 p-3 rounded-lg">
                        "G·ª≠i ti·ªÅn v·ªÅ qu√™ ƒëi con, ·ªü ƒë√≥ m√† xin."
                    </p>
                </div>

                <!-- Item 3: Best Friend -->
                <div
                    class="bg-white p-6 rounded-2xl shadow-md border-b-4 border-gray-300 hover:border-brand-red transition transform hover:-translate-y-2 group">
                    <div class="text-4xl mb-4 group-hover:scale-110 transition inline-block">üê∂</div>
                    <h3 class="font-bold text-lg text-gray-800">B·∫°n th√¢n</h3>
                    <div class="text-brand-red font-bold text-xl my-2">-50.000ƒë</div>
                    <p class="text-gray-500 italic text-sm bg-gray-50 p-3 rounded-lg">
                        "Tr·∫£ tao 50k h√¥m qua vay coi."
                    </p>
                </div>

                <!-- Item 4: Landlord -->
                <div
                    class="bg-white p-6 rounded-2xl shadow-md border-b-4 border-gray-300 hover:border-brand-red transition transform hover:-translate-y-2 group">
                    <div class="text-4xl mb-4 group-hover:scale-110 transition inline-block">üè†</div>
                    <h3 class="font-bold text-lg text-gray-800">Ch·ªß tr·ªç</h3>
                    <div class="text-gray-400 font-bold text-xl my-2">0ƒë</div>
                    <p class="text-gray-500 italic text-sm bg-gray-50 p-3 rounded-lg">
                        "Th√°ng n√†y ƒë√≥ng ti·ªÅn ch∆∞a em?"
                    </p>
                </div>
            </div>

            <div class="text-center mt-12">
                <button
                    class="bg-white border-2 border-brand-red text-brand-red px-8 py-3 rounded-full font-bold hover:bg-brand-red hover:text-white transition shadow-lg flex items-center gap-2 mx-auto">
                    Xem t·∫•t c·∫£ nh√† t√†i tr·ª£ (1) <i class="fas fa-chevron-right text-xs"></i>
                </button>
            </div>
        </div>
    </section>

    <!-- Footer -->
    <footer class="bg-gray-900 text-white py-10 text-center border-t-4 border-brand-red">
        <div class="container mx-auto px-4">
            <h2 class="text-2xl font-bold mb-4 font-hand text-brand-red flex justify-center items-center gap-2">
                <i class="fas fa-candy-cane"></i> Nu√¥i Tri·ªÅu Project
            </h2>
            <p class="text-gray-400 mb-4">Website n√†y ƒë∆∞·ª£c t·∫°o ra ƒë·ªÉ vui l√† ch√≠nh (nh∆∞ng donate l√† th·∫≠t).</p>

            <!-- Mi·ªÖn tr·ª´ tr√°ch nhi·ªám -->
            <div class="max-w-3xl mx-auto mb-6 px-4">
                <p
                    class="text-gray-600 text-xs italic leading-relaxed border border-gray-800 rounded-lg p-3 bg-gray-800/30">
                    <span class="font-bold text-gray-500">‚ö†Ô∏è Mi·ªÖn tr·ª´ tr√°ch nhi·ªám:</span> N·ªôi dung tr√™n website ch·ªâ mang
                    t√≠nh ch·∫•t gi·∫£i tr√≠, h√†i h∆∞·ªõc nh·∫±m m·ª•c ƒë√≠ch t·∫°o ti·∫øng c∆∞·ªùi m√πa Gi√°ng Sinh. Ch√∫ng t√¥i ho√†n to√†n kh√¥ng
                    c√≥ √Ω ƒë·ªãnh c√¥ng k√≠ch, b√¥i nh·ªç, x√∫c ph·∫°m hay √°m ch·ªâ b·∫•t k·ª≥ c√° nh√¢n, t·ªï ch·ª©c n√†o. M·ªçi s·ª± tr√πng h·ª£p (n·∫øu
                    c√≥) ch·ªâ l√† ng·∫´u nhi√™n. Vui l√≤ng ƒë√≥n nh·∫≠n v·ªõi tinh th·∫ßn vui v·∫ª!
                </p>
            </div>

            <div class="border-t border-gray-800 pt-6 text-sm text-gray-500">
                &copy; 2025 Nu√¥i Tri·ªÅu. Merry Christmas! üéÑ
            </div>
        </div>
    </footer>

    <!-- Smart Modal -->
    <div id="donateModal" class="fixed inset-0 z-[100] hidden">
        <div class="absolute inset-0 bg-black/80 backdrop-blur-md transition-opacity" onclick="closeModal()"></div>
        <div
            class="absolute top-1/2 left-1/2 transform -translate-x-1/2 -translate-y-1/2 bg-white rounded-3xl shadow-2xl w-11/12 max-w-md overflow-hidden animate-[fadeIn_0.3s_ease-out]">

            <div class="bg-brand-red p-4 text-white text-center relative overflow-hidden">
                <!-- Decor bg -->
                <div
                    class="absolute inset-0 opacity-20 bg-[url('https://www.transparenttextures.com/patterns/snow.png')]">
                </div>
                <h3 class="text-xl font-bold relative z-10">C·ªïng Nh·∫≠n Qu√† Noel</h3>
                <button onclick="closeModal()" class="absolute top-4 right-4 hover:text-gray-200 text-xl z-10"><i
                        class="fas fa-times"></i></button>
            </div>

            <!-- STEP 1: Input -->
            <div id="modal-step-input" class="p-8 hidden">
                <div class="text-center mb-6">
                    <div class="text-5xl mb-4">üéÖ</div>
                    <h4 class="text-xl font-bold text-gray-800">B·∫°n mu·ªën l√¨ x√¨ bao nhi√™u?</h4>
                    <p class="text-gray-500 text-sm mt-2">1 t·ª∑ h·∫£ luv u </p>
                </div>
                <input type="number" id="customAmountInput" placeholder="V√≠ d·ª•: 50,000"
                    class="w-full text-2xl font-bold text-center border-b-2 border-brand-red focus:outline-none py-2 mb-6 text-brand-red"
                    onkeypress="if(event.key==='Enter') submitCustomAmount()">
                <button onclick="submitCustomAmount()"
                    class="w-full bg-brand-red text-white py-3 rounded-xl font-bold text-lg hover:bg-red-800 transition shadow-lg">
                    Ti·∫øp T·ª•c <i class="fas fa-arrow-right ml-2"></i>
                </button>
            </div>

            <!-- STEP 2: Quote -->
            <div id="modal-step-quote"
                class="p-8 hidden flex flex-col items-center justify-center min-h-[300px] bg-red-50">
                <div class="text-6xl mb-6 animate-bounce">ü¶å</div>
                <div id="quote-text"
                    class="text-xl font-bold text-center text-gray-800 leading-relaxed italic animate-pop">
                    "Loading l·ªùi c·∫£m ∆°n..."
                </div>
                <p class="text-xs text-gray-400 mt-8 animate-pulse">ƒêang m·ªü t√∫i qu√†...</p>
            </div>

            <!-- STEP 3: QR -->
            <div id="modal-step-qr" class="hidden">
                <div class="p-6 text-center">
                    <!-- Khung ·∫£nh QR -->
                    <div class="relative w-full max-w-sm mx-auto mb-4 group">
                        <!-- Decor n·ªÅn h·ªìng ph√≠a sau -->
                        <div
                            class="absolute inset-0 bg-pink-400 rounded-xl transform rotate-2 opacity-20 group-hover:rotate-3 transition">
                        </div>

                        <!-- ·∫¢nh ch√≠nh -->
                        <img src="qrmomo.jpg"
                            onerror="this.src='https://api.qrserver.com/v1/create-qr-code/?size=300x300&data=ChucMungGiangSinh'; this.parentElement.insertAdjacentHTML('beforeend', '<p class=\'text-red-500 text-xs mt-1\'>L∆∞u √Ω: H√£y ƒë·∫£m b·∫£o file ·∫£nh t√™n l√† <b>qrmomo.jpg</b> n·∫±m c√πng th∆∞ m·ª•c nh√©!</p>')"
                            alt="QR Code Momo"
                            class="relative w-full rounded-xl shadow-2xl border-4 border-white object-cover transform transition group-hover:scale-[1.02]">

                        <!-- N∆° trang tr√≠ -->
                        <div class="absolute -top-5 -right-5 text-4xl animate-bounce z-20">üéÄ</div>
                    </div>

                    <!-- Caption theo ·∫£nh -->
                    <p class="text-brand-red font-bold text-lg mb-1 font-hand">"ƒê·ªÉ ƒë√†n em ·ªü ƒë√¢y v√† kh√¥ng n√≥i g√¨!!"</p>
                    <p class="text-gray-400 text-xs italic mb-4">(M√®o m√©o meo m√®o meo...)</p>

                    <!-- Ph·∫ßn STK c·∫≠p nh·∫≠t -->
                    <div class="bg-pink-50 rounded-xl p-4 mb-4 border border-pink-100">
                        <label class="block text-xs font-bold text-pink-500 uppercase tracking-wide mb-1">MOMO / Ng√¢n
                            H√†ng</label>
                        <div class="flex items-center gap-2 bg-white rounded-lg p-2 border border-pink-200">
                            <span class="text-2xl">üè¶</span>
                            <input type="text" value="xxxx.xxxx.473" readonly
                                class="w-full bg-transparent border-none font-mono text-center text-lg font-bold text-gray-800 focus:outline-none"
                                id="stkInput">
                            <button onclick="copyToClipboard()"
                                class="bg-pink-500 text-white w-8 h-8 rounded-full hover:bg-pink-600 transition flex items-center justify-center shadow-sm"
                                title="Copy">
                                <i class="far fa-copy text-sm"></i>
                            </button>
                        </div>
                    </div>
                    <p id="copyMsg" class="text-green-600 text-xs font-bold hidden mb-2 animate-bounce"><i
                            class="fas fa-check"></i> ƒê√£ copy STK! Ting ting ngay ƒëi!</p>
                </div>
            </div>

        </div>
    </div>

    <!-- Scripts Logic -->
    <script>
        // --- 1. HI·ªÜU ·ª®NG TUY·∫æT R∆†I ---
        function createSnowflake() {
            const container = document.getElementById('snow-container');
            if (!container) return; // B·∫£o v·ªá kh·ªèi l·ªói null

            const snow = document.createElement('div');
            snow.classList.add('snowflake');
            snow.textContent = ['‚ùÑ', '‚ùÖ', '‚ùÜ', '‚Ä¢'][Math.floor(Math.random() * 4)];
            snow.style.color = Math.random() > 0.5 ? '#AED6F1' : '#fff'; // Xanh nh·∫°t ho·∫∑c tr·∫Øng

            snow.style.left = Math.random() * 100 + 'vw';
            snow.style.fontSize = Math.random() * 15 + 10 + 'px';
            snow.style.opacity = Math.random() * 0.7 + 0.3;

            const duration = Math.random() * 5 + 5; // 5-10s
            snow.style.animationDuration = duration + 's';

            container.appendChild(snow);

            // X√≥a sau khi r∆°i xong
            setTimeout(() => {
                snow.remove();
            }, duration * 1000);
        }
        setInterval(createSnowflake, 200); // T·∫°o tuy·∫øt m·ªói 200ms

        // --- 2. LOGIC DONATE ---
        const xmasQuotes = [
            "Ho Ho Ho! C·∫£m ∆°n Santa Claus! üéÖ",
            "M√≥n qu√† n√†y ·∫•m h∆°n c·∫£ l√≤ s∆∞·ªüi! üî•",
            "Ch√∫c b·∫°n Gi√°ng Sinh an l√†nh v√† v√≠ ti·ªÅn r·ªßng r·ªânh! üéÑ",
            "Tri·ªÅu ƒë√£ nh·∫≠n ƒë∆∞·ª£c t√≠n hi·ªáu t·ª´ B·∫Øc C·ª±c! ‚ùÑÔ∏è",
            "Y√™u th∆∞∆°ng bay tung t√≥e nh∆∞ ph√°o hoa ƒë√™m Noel! ‚ú®",
            "C·∫£m ∆°n v√¨ ƒë√£ l√†m ·∫•m l√≤ng t√¥i m√πa ƒë√¥ng n√†y! ‚ù§Ô∏è",
            "Merry Christmas! Ch√∫c b·∫°n m·ªôt nƒÉm m·ªõi tr√†n ƒë·∫ßy may m·∫Øn",
            "ƒê√¢y l√† m√≥n qu√† tuy·ªát v·ªùi nh·∫•t t·ª´ tr∆∞·ªõc ƒë·∫øn nay! üéÅ",
            "Tuy·∫øt r∆°i ngo√†i c·ª≠a s·ªï, l√≤ng t√¥i ·∫•m √°p nh·ªù b·∫°n! ‚òÉÔ∏è",
            "C·∫£m ∆°n b·∫°n ƒë√£ bi·∫øn m√πa ƒë√¥ng n√†y th√†nh m√πa xu√¢n trong tim t√¥i! üå∏",

        ];

        let currentTimeout;

        function resetModal() {
            document.getElementById('modal-step-input').classList.add('hidden');
            document.getElementById('modal-step-quote').classList.add('hidden');
            document.getElementById('modal-step-qr').classList.add('hidden');
            document.getElementById('copyMsg').classList.add('hidden');
            clearTimeout(currentTimeout);
        }

        function showStep(stepId) {
            resetModal();
            document.getElementById(stepId).classList.remove('hidden');
        }

        function startDonation(packageAmount) {
            const modal = document.getElementById('donateModal');
            modal.classList.remove('hidden');
            showRandomQuote();
        }

        function openCustomInput() {
            const modal = document.getElementById('donateModal');
            modal.classList.remove('hidden');
            showStep('modal-step-input');
            setTimeout(() => document.getElementById('customAmountInput').focus(), 100);
        }

        function submitCustomAmount() {
            const input = document.getElementById('customAmountInput');
            if (input.value) showRandomQuote();
            else alert("Nh·∫≠p s·ªë ti·ªÅn ƒëi Santa ∆°i!");
        }

        function showRandomQuote() {
            showStep('modal-step-quote');
            const quote = xmasQuotes[Math.floor(Math.random() * xmasQuotes.length)];
            document.getElementById('quote-text').innerText = `"${quote}"`;
            currentTimeout = setTimeout(() => {
                showStep('modal-step-qr');
            }, 2500);
        }

        function closeModal() {
            document.getElementById('donateModal').classList.add('hidden');
            resetModal();
        }

        function copyToClipboard() {
            const copyText = document.getElementById("stkInput");
            copyText.select();
            copyText.setSelectionRange(0, 99999);
            navigator.clipboard.writeText(copyText.value).then(() => {
                document.getElementById('copyMsg').classList.remove('hidden');
            });
        }

        // --- 3. LOGIC THANH TR·∫†NG TH√ÅI N√ÇNG CAO (M·ªöI) ---
        // C√°c tr·∫°ng th√°i k√®m m√†u s·∫Øc v√† icon gi√°ng sinh
        const lifeStatuses = [
            {pct: 5, text: "L·∫°nh c√≥ng... C·∫ßn s∆∞·ªüi ·∫•m g·∫•p! ü•∂", bgClass: "bg-gray-600", icon: "fa-snowflake", textColor: "text-gray-600"},
            {pct: 15, text: "B·ª•ng k√™u Jingle Bells üîî", bgClass: "bg-red-600", icon: "fa-bell", textColor: "text-red-600"},
            {pct: 30, text: "ƒêang g·∫∑m t·∫•t ch·ªù qu√† üß¶", bgClass: "bg-orange-500", icon: "fa-socks", textColor: "text-orange-600"},
            {pct: 50, text: "T·∫°m ·ªïn, th√®m g√† t√¢y üçó", bgClass: "bg-yellow-500", icon: "fa-drumstick-bite", textColor: "text-yellow-600"},
            {pct: 75, text: "ƒêang g√≥i qu√† cho ch√≠nh m√¨nh üéÅ", bgClass: "bg-green-500", icon: "fa-gifts", textColor: "text-green-600"},
            {pct: 90, text: "No nh∆∞ √¥ng gi√† Noel! üéÖ", bgClass: "bg-green-600", icon: "fa-candy-cane", textColor: "text-green-700"},
            {pct: 100, text: "FULL NƒÇNG L∆Ø·ª¢NG QU·∫®Y NOEL! üéÑ", bgClass: "bg-purple-600", icon: "fa-star", textColor: "text-purple-600"}
        ];

        let countdownVal = 30;

        function updateEnergyStatus() {
            // Random tr·∫°ng th√°i
            let rand = Math.random();
            let selected;
            // T·ªâ l·ªá ra tr·∫°ng th√°i "ƒë√≥i" cao h∆°n cho vui
            if (rand < 0.4) selected = lifeStatuses[Math.floor(Math.random() * 3)]; // 0,1,2 (ƒê√≥i)
            else if (rand < 0.8) selected = lifeStatuses[Math.floor(Math.random() * 2) + 3]; // 3,4 (B√¨nh th∆∞·ªùng)
            else selected = lifeStatuses[Math.floor(Math.random() * 2) + 5]; // 5,6 (No)

            const bar = document.getElementById('energy-bar');
            const statusText = document.getElementById('dynamic-status');
            const percentText = document.getElementById('status-percent');
            const iconElem = document.getElementById('bar-icon');

            // 1. C·∫≠p nh·∫≠t ƒë·ªô d√†i thanh bar
            bar.style.width = selected.pct + '%';

            // 2. C·∫≠p nh·∫≠t m√†u n·ªÅn thanh (x√≥a m√†u c≈©, th√™m m√†u m·ªõi + gi·ªØ class candy-cane)
            // L∆∞u √Ω: class 'candy-cane-bar' c·∫ßn m√†u n·ªÅn trong su·ªët ho·∫∑c gradient ƒë√® l√™n. 
            // ·ªû ƒë√¢y ta d√πng bg-color c∆° b·∫£n, hi·ªáu ·ª©ng s·ªçc s·∫Ω ƒë√® l√™n nh·ªù CSS
            bar.className = `h-full rounded-full flex items-center justify-end pr-0 transition-all duration-1000 relative candy-cane-bar ${selected.bgClass}`;

            // 3. C·∫≠p nh·∫≠t icon tr√™n thanh
            iconElem.className = `fas ${selected.icon}`;

            // 4. C·∫≠p nh·∫≠t % text
            percentText.innerText = selected.pct + '%';
            percentText.className = `font-extrabold text-2xl transition-all duration-500 ${selected.textColor}`;

            // 5. Animation ƒë·ªïi text t√¢m tr·∫°ng
            statusText.style.opacity = '0';
            statusText.style.transform = 'translateY(10px)';

            setTimeout(() => {
                statusText.innerHTML = `<i class="fas ${selected.icon} mr-1"></i> "${selected.text}"`;
                statusText.className = `text-sm font-bold italic transition-all duration-500 flex items-center justify-center gap-2 ${selected.textColor}`;
                statusText.style.opacity = '1';
                statusText.style.transform = 'translateY(0)';
            }, 300);

            // Reset ƒë·∫øm ng∆∞·ª£c
            countdownVal = 30;
        }

        // Ch·∫°y ngay l·∫ßn ƒë·∫ßu
        updateEnergyStatus();

        // Loop 30s update tr·∫°ng th√°i
        setInterval(updateEnergyStatus, 30000);

        // Loop 1s update s·ªë ƒë·∫øm ng∆∞·ª£c
        setInterval(() => {
            if (countdownVal > 0) countdownVal--;
            document.getElementById('next-update').innerText = countdownVal;
        }, 1000);
    </script>
</body>

</html>
